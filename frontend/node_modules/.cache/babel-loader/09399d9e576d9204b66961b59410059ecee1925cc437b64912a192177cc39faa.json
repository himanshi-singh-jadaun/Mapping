{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/HIMANSHI/Desktop/Mapping/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n/** These methods may break the react binding if called directly */\nvar skipMethods = ['setMaxBounds', 'setMinZoom', 'setMaxZoom', 'setMinPitch', 'setMaxPitch', 'setRenderWorldCopies', 'setProjection', 'setStyle', 'addSource', 'removeSource', 'addLayer', 'removeLayer', 'setLayerZoomRange', 'setFilter', 'setPaintProperty', 'setLayoutProperty', 'setLight', 'setTerrain', 'setFog', 'remove'];\nexport default function createRef(mapInstance, mapLib) {\n  if (!mapInstance) {\n    return null;\n  }\n  var map = mapInstance.map;\n  var result = {\n    getMap: function getMap() {\n      return map;\n    },\n    // Overwrite getters to use our shadow transform\n    getCenter: function getCenter() {\n      return mapInstance.transform.center;\n    },\n    getZoom: function getZoom() {\n      return mapInstance.transform.zoom;\n    },\n    getBearing: function getBearing() {\n      return mapInstance.transform.bearing;\n    },\n    getPitch: function getPitch() {\n      return mapInstance.transform.pitch;\n    },\n    getPadding: function getPadding() {\n      return mapInstance.transform.padding;\n    },\n    getBounds: function getBounds() {\n      return mapInstance.transform.getBounds();\n    },\n    project: function project(lnglat) {\n      return mapInstance.transform.locationPoint(mapLib.LngLat.convert(lnglat));\n    },\n    unproject: function unproject(point) {\n      return mapInstance.transform.pointLocation(mapLib.Point.convert(point));\n    },\n    queryTerrainElevation: function queryTerrainElevation(lnglat, options) {\n      // @ts-ignore transform not defined\n      var tr = map.transform;\n      // @ts-ignore transform not defined\n      map.transform = mapInstance.transform;\n      var result = map.queryTerrainElevation(lnglat, options);\n      // @ts-ignore transform not defined\n      map.transform = tr;\n      return result;\n    }\n  };\n  var _iterator = _createForOfIteratorHelper(getMethodNames(map)),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var key = _step.value;\n      // @ts-expect-error\n      if (!(key in result) && !skipMethods.includes(key)) {\n        result[key] = map[key].bind(map);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return result;\n}\nfunction getMethodNames(obj) {\n  var result = new Set();\n  var proto = obj;\n  while (proto) {\n    var _iterator2 = _createForOfIteratorHelper(Object.getOwnPropertyNames(proto)),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var key = _step2.value;\n        if (key[0] !== '_' && typeof obj[key] === 'function' && key !== 'fire' && key !== 'setEventedParent') {\n          result.add(key);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Array.from(result);\n}","map":{"version":3,"names":["skipMethods","createRef","mapInstance","mapLib","map","result","getMap","getCenter","transform","center","getZoom","zoom","getBearing","bearing","getPitch","pitch","getPadding","padding","getBounds","project","lnglat","locationPoint","LngLat","convert","unproject","point","pointLocation","Point","queryTerrainElevation","options","tr","_iterator","_createForOfIteratorHelper","getMethodNames","_step","s","n","done","key","value","includes","bind","err","e","f","obj","Set","proto","_iterator2","Object","getOwnPropertyNames","_step2","add","getPrototypeOf","Array","from"],"sources":["C:\\Users\\HIMANSHI\\Desktop\\Mapping\\frontend\\node_modules\\react-map-gl\\src\\mapbox\\create-ref.ts"],"sourcesContent":["import type {MapboxMap, LngLatLike, PointLike, ElevationQueryOptions} from '../types';\nimport type Mapbox from './mapbox';\n\n/** These methods may break the react binding if called directly */\nconst skipMethods = [\n  'setMaxBounds',\n  'setMinZoom',\n  'setMaxZoom',\n  'setMinPitch',\n  'setMaxPitch',\n  'setRenderWorldCopies',\n  'setProjection',\n  'setStyle',\n  'addSource',\n  'removeSource',\n  'addLayer',\n  'removeLayer',\n  'setLayerZoomRange',\n  'setFilter',\n  'setPaintProperty',\n  'setLayoutProperty',\n  'setLight',\n  'setTerrain',\n  'setFog',\n  'remove'\n] as const;\n\nexport type MapRef = {\n  getMap(): MapboxMap;\n} & Omit<MapboxMap, typeof skipMethods[number]>;\n\nexport default function createRef(mapInstance: Mapbox, mapLib: any): MapRef {\n  if (!mapInstance) {\n    return null;\n  }\n\n  const map: MapboxMap = mapInstance.map;\n  const result: any = {\n    getMap: () => map,\n\n    // Overwrite getters to use our shadow transform\n    getCenter: () => mapInstance.transform.center,\n    getZoom: () => mapInstance.transform.zoom,\n    getBearing: () => mapInstance.transform.bearing,\n    getPitch: () => mapInstance.transform.pitch,\n    getPadding: () => mapInstance.transform.padding,\n    getBounds: () => mapInstance.transform.getBounds(),\n    project: (lnglat: LngLatLike) => {\n      return mapInstance.transform.locationPoint(mapLib.LngLat.convert(lnglat));\n    },\n    unproject: (point: PointLike) => {\n      return mapInstance.transform.pointLocation(mapLib.Point.convert(point));\n    },\n    queryTerrainElevation: (lnglat: LngLatLike, options: ElevationQueryOptions) => {\n      // @ts-ignore transform not defined\n      const tr = map.transform;\n      // @ts-ignore transform not defined\n      map.transform = mapInstance.transform;\n      const result = map.queryTerrainElevation(lnglat, options);\n      // @ts-ignore transform not defined\n      map.transform = tr;\n      return result;\n    }\n  };\n\n  for (const key of getMethodNames(map)) {\n    // @ts-expect-error\n    if (!(key in result) && !skipMethods.includes(key)) {\n      result[key] = map[key].bind(map);\n    }\n  }\n\n  return result;\n}\n\nfunction getMethodNames(obj) {\n  const result = new Set<string>();\n\n  let proto = obj;\n  while (proto) {\n    for (const key of Object.getOwnPropertyNames(proto)) {\n      if (\n        key[0] !== '_' &&\n        typeof obj[key] === 'function' &&\n        key !== 'fire' &&\n        key !== 'setEventedParent'\n      ) {\n        result.add(key);\n      }\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Array.from(result);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}