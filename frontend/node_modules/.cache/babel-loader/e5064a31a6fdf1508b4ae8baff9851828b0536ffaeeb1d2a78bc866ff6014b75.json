{"ast":null,"code":"import _defineProperty from \"C:/Users/HIMANSHI/Desktop/Mapping/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"C:/Users/HIMANSHI/Desktop/Mapping/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"C:/Users/HIMANSHI/Desktop/Mapping/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport { useState, useCallback, useMemo, useContext } from 'react';\nimport { MapContext } from './map';\nexport var MountedMapsContext = React.createContext(null);\nexport var MapProvider = function MapProvider(props) {\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    maps = _useState2[0],\n    setMaps = _useState2[1];\n  var onMapMount = useCallback(function (map) {\n    var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'default';\n    setMaps(function (currMaps) {\n      if (id === 'current') {\n        throw new Error(\"'current' cannot be used as map id\");\n      }\n      if (currMaps[id]) {\n        throw new Error(\"Multiple maps with the same id: \".concat(id));\n      }\n      return _objectSpread(_objectSpread({}, currMaps), {}, _defineProperty({}, id, map));\n    });\n  }, []);\n  var onMapUnmount = useCallback(function () {\n    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'default';\n    setMaps(function (currMaps) {\n      if (currMaps[id]) {\n        var nextMaps = _objectSpread({}, currMaps);\n        delete nextMaps[id];\n        return nextMaps;\n      }\n      return currMaps;\n    });\n  }, []);\n  return React.createElement(MountedMapsContext.Provider, {\n    value: {\n      maps: maps,\n      onMapMount: onMapMount,\n      onMapUnmount: onMapUnmount\n    }\n  }, props.children);\n};\nexport function useMap() {\n  var _a;\n  var maps = (_a = useContext(MountedMapsContext)) === null || _a === void 0 ? void 0 : _a.maps;\n  var currentMap = useContext(MapContext);\n  var mapsWithCurrent = useMemo(function () {\n    return _objectSpread(_objectSpread({}, maps), {}, {\n      current: currentMap === null || currentMap === void 0 ? void 0 : currentMap.map\n    });\n  }, [maps, currentMap]);\n  return mapsWithCurrent;\n}","map":{"version":3,"names":["React","useState","useCallback","useMemo","useContext","MapContext","MountedMapsContext","createContext","MapProvider","props","_useState","_useState2","_slicedToArray","maps","setMaps","onMapMount","map","id","arguments","length","undefined","currMaps","Error","concat","_objectSpread","_defineProperty","onMapUnmount","nextMaps","createElement","Provider","value","children","useMap","_a","currentMap","mapsWithCurrent","current"],"sources":["C:\\Users\\HIMANSHI\\Desktop\\Mapping\\frontend\\node_modules\\react-map-gl\\src\\components\\use-map.tsx"],"sourcesContent":["import * as React from 'react';\nimport {useState, useCallback, useMemo, useContext} from 'react';\n\nimport {MapRef} from '../mapbox/create-ref';\nimport {MapContext} from './map';\n\ntype MountedMapsContextValue = {\n  maps: {[id: string]: MapRef};\n  onMapMount: (map: MapRef, id: string) => void;\n  onMapUnmount: (id: string) => void;\n};\n\nexport const MountedMapsContext = React.createContext<MountedMapsContextValue>(null);\n\nexport const MapProvider: React.FC<{children?: React.ReactNode}> = props => {\n  const [maps, setMaps] = useState<{[id: string]: MapRef}>({});\n\n  const onMapMount = useCallback((map: MapRef, id: string = 'default') => {\n    setMaps(currMaps => {\n      if (id === 'current') {\n        throw new Error(\"'current' cannot be used as map id\");\n      }\n      if (currMaps[id]) {\n        throw new Error(`Multiple maps with the same id: ${id}`);\n      }\n      return {...currMaps, [id]: map};\n    });\n  }, []);\n\n  const onMapUnmount = useCallback((id: string = 'default') => {\n    setMaps(currMaps => {\n      if (currMaps[id]) {\n        const nextMaps = {...currMaps};\n        delete nextMaps[id];\n        return nextMaps;\n      }\n      return currMaps;\n    });\n  }, []);\n\n  return (\n    <MountedMapsContext.Provider\n      value={{\n        maps,\n        onMapMount,\n        onMapUnmount\n      }}\n    >\n      {props.children}\n    </MountedMapsContext.Provider>\n  );\n};\n\nexport function useMap(): {current?: MapRef; [id: string]: MapRef | undefined} {\n  const maps = useContext(MountedMapsContext)?.maps;\n  const currentMap = useContext(MapContext);\n\n  const mapsWithCurrent = useMemo(() => {\n    return {...maps, current: currentMap?.map};\n  }, [maps, currentMap]);\n\n  return mapsWithCurrent;\n}\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAAQC,QAAQ,EAAEC,WAAW,EAAEC,OAAO,EAAEC,UAAU,QAAO,OAAO;AAGhE,SAAQC,UAAU,QAAO,OAAO;AAQhC,OAAO,IAAMC,kBAAkB,GAAGN,KAAK,CAACO,aAAa,CAA0B,IAAI,CAAC;AAEpF,OAAO,IAAMC,WAAW,GAA2C,SAAtDA,WAAWA,CAA2CC,KAAK,EAAG;EACzE,IAAAC,SAAA,GAAwBT,QAAQ,CAAyB,EAAE,CAAC;IAAAU,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArDG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpB,IAAMI,UAAU,GAAGb,WAAW,CAAC,UAACc,GAAW,EAA4B;IAAA,IAA1BC,EAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAa,SAAS;IACjEJ,OAAO,CAAC,UAAAO,QAAQ,EAAG;MACjB,IAAIJ,EAAE,KAAK,SAAS,EAAE;QACpB,MAAM,IAAIK,KAAK,CAAC,oCAAoC,CAAC;;MAEvD,IAAID,QAAQ,CAACJ,EAAE,CAAC,EAAE;QAChB,MAAM,IAAIK,KAAK,oCAAAC,MAAA,CAAoCN,EAAE,CAAE,CAAC;;MAE1D,OAAAO,aAAA,CAAAA,aAAA,KAAWH,QAAQ,OAAAI,eAAA,KAAGR,EAAE,EAAGD,GAAG;IAChC,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMU,YAAY,GAAGxB,WAAW,CAAC,YAA2B;IAAA,IAA1Be,EAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAa,SAAS;IACtDJ,OAAO,CAAC,UAAAO,QAAQ,EAAG;MACjB,IAAIA,QAAQ,CAACJ,EAAE,CAAC,EAAE;QAChB,IAAMU,QAAQ,GAAAH,aAAA,KAAOH,QAAQ,CAAC;QAC9B,OAAOM,QAAQ,CAACV,EAAE,CAAC;QACnB,OAAOU,QAAQ;;MAEjB,OAAON,QAAQ;IACjB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OACErB,KAAA,CAAA4B,aAAA,CAACtB,kBAAkB,CAACuB,QAAQ;IAC1BC,KAAK,EAAE;MACLjB,IAAI,EAAJA,IAAI;MACJE,UAAU,EAAVA,UAAU;MACVW,YAAY,EAAZA;;EACD,GAEAjB,KAAK,CAACsB,QAAQ,CACa;AAElC,CAAC;AAED,OAAM,SAAUC,MAAMA,CAAA;;EACpB,IAAMnB,IAAI,GAAG,CAAAoB,EAAA,GAAA7B,UAAU,CAACE,kBAAkB,CAAC,cAAA2B,EAAA,uBAAAA,EAAA,CAAEpB,IAAI;EACjD,IAAMqB,UAAU,GAAG9B,UAAU,CAACC,UAAU,CAAC;EAEzC,IAAM8B,eAAe,GAAGhC,OAAO,CAAC,YAAK;IACnC,OAAAqB,aAAA,CAAAA,aAAA,KAAWX,IAAI;MAAEuB,OAAO,EAAEF,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAElB;IAAG;EAC3C,CAAC,EAAE,CAACH,IAAI,EAAEqB,UAAU,CAAC,CAAC;EAEtB,OAAOC,eAAe;AACxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}