{"ast":null,"code":"import _objectSpread from \"C:/Users/HIMANSHI/Desktop/Mapping/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n/* global document */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { useEffect, useMemo, useRef, useContext } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport { MapContext } from './map';\nimport { arePointsEqual } from '../utils/deep-equal';\nvar defaultProps = {\n  draggable: false,\n  popup: null,\n  rotation: 0,\n  rotationAlignment: 'auto',\n  pitchAlignment: 'auto'\n};\n/* eslint-disable complexity,max-statements */\nfunction Marker(props) {\n  var _useContext = useContext(MapContext),\n    map = _useContext.map,\n    mapLib = _useContext.mapLib;\n  var thisRef = useRef({\n    props: props\n  });\n  thisRef.current.props = props;\n  var marker = useMemo(function () {\n    var hasChildren = false;\n    React.Children.forEach(props.children, function (el) {\n      if (el) {\n        hasChildren = true;\n      }\n    });\n    var options = _objectSpread(_objectSpread({}, props), {}, {\n      element: hasChildren ? document.createElement('div') : null\n    });\n    var mk = new mapLib.Marker(options).setLngLat([props.longitude, props.latitude]);\n    mk.getElement().addEventListener('click', function (e) {\n      var _a, _b;\n      (_b = (_a = thisRef.current.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a, {\n        type: 'click',\n        target: mk,\n        originalEvent: e\n      });\n    });\n    mk.on('dragstart', function (e) {\n      var _a, _b;\n      var evt = e;\n      evt.lngLat = marker.getLngLat();\n      (_b = (_a = thisRef.current.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, evt);\n    });\n    mk.on('drag', function (e) {\n      var _a, _b;\n      var evt = e;\n      evt.lngLat = marker.getLngLat();\n      (_b = (_a = thisRef.current.props).onDrag) === null || _b === void 0 ? void 0 : _b.call(_a, evt);\n    });\n    mk.on('dragend', function (e) {\n      var _a, _b;\n      var evt = e;\n      evt.lngLat = marker.getLngLat();\n      (_b = (_a = thisRef.current.props).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, evt);\n    });\n    return mk;\n  }, []);\n  useEffect(function () {\n    marker.addTo(map.getMap());\n    return function () {\n      marker.remove();\n    };\n  }, []);\n  useEffect(function () {\n    applyReactStyle(marker.getElement(), props.style);\n  }, [props.style]);\n  if (marker.getLngLat().lng !== props.longitude || marker.getLngLat().lat !== props.latitude) {\n    marker.setLngLat([props.longitude, props.latitude]);\n  }\n  if (props.offset && !arePointsEqual(marker.getOffset(), props.offset)) {\n    marker.setOffset(props.offset);\n  }\n  if (marker.isDraggable() !== props.draggable) {\n    marker.setDraggable(props.draggable);\n  }\n  if (marker.getRotation() !== props.rotation) {\n    marker.setRotation(props.rotation);\n  }\n  if (marker.getRotationAlignment() !== props.rotationAlignment) {\n    marker.setRotationAlignment(props.rotationAlignment);\n  }\n  if (marker.getPitchAlignment() !== props.pitchAlignment) {\n    marker.setPitchAlignment(props.pitchAlignment);\n  }\n  if (marker.getPopup() !== props.popup) {\n    marker.setPopup(props.popup);\n  }\n  return createPortal(props.children, marker.getElement());\n}\nMarker.defaultProps = defaultProps;\n// @ts-ignore\nexport default React.memo(Marker);","map":{"version":3,"names":["React","createPortal","useEffect","useMemo","useRef","useContext","applyReactStyle","MapContext","arePointsEqual","defaultProps","draggable","popup","rotation","rotationAlignment","pitchAlignment","Marker","props","_useContext","map","mapLib","thisRef","current","marker","hasChildren","Children","forEach","children","el","options","_objectSpread","element","document","createElement","mk","setLngLat","longitude","latitude","getElement","addEventListener","e","_b","_a","onClick","call","type","target","originalEvent","on","evt","lngLat","getLngLat","onDragStart","onDrag","onDragEnd","addTo","getMap","remove","style","lng","lat","offset","getOffset","setOffset","isDraggable","setDraggable","getRotation","setRotation","getRotationAlignment","setRotationAlignment","getPitchAlignment","setPitchAlignment","getPopup","setPopup","memo"],"sources":["C:\\Users\\HIMANSHI\\Desktop\\Mapping\\frontend\\node_modules\\react-map-gl\\src\\components\\marker.ts"],"sourcesContent":["/* global document */\nimport * as React from 'react';\nimport {createPortal} from 'react-dom';\nimport {useEffect, useMemo, useRef, useContext} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\n\nimport type {\n  MarkerDragEvent,\n  MapboxPopup,\n  PointLike,\n  Anchor,\n  Alignment,\n  MapboxEvent,\n  MapboxMarker\n} from '../types';\n\nimport {MapContext} from './map';\nimport {arePointsEqual} from '../utils/deep-equal';\n\nexport type MarkerProps = {\n  /** Longitude of the anchor location */\n  longitude: number;\n  /** Latitude of the anchor location */\n  latitude: number;\n  /** A string indicating the part of the Marker that should be positioned closest to the coordinate set via Marker.setLngLat.\n   * Options are `'center'`, `'top'`, `'bottom'`, `'left'`, `'right'`, `'top-left'`, `'top-right'`, `'bottom-left'`, and `'bottom-right'`.\n   * @default \"center\"\n   */\n  anchor?: Anchor;\n  /**\n   * The max number of pixels a user can shift the mouse pointer during a click on the marker for it to be considered a valid click\n   * (as opposed to a marker drag). The default (0) is to inherit map's clickTolerance.\n   */\n  clickTolerance?: number;\n  /** The color to use for the default marker if options.element is not provided.\n   * @default \"#3FB1CE\"\n   */\n  color?: string;\n  /** A boolean indicating whether or not a marker is able to be dragged to a new position on the map.\n   * @default false\n   */\n  draggable?: boolean;\n  /** The offset in pixels as a PointLike object to apply relative to the element's center. Negatives indicate left and up. */\n  offset?: PointLike;\n  /** `map` aligns the `Marker` to the plane of the map.\n   * `viewport` aligns the `Marker` to the plane of the viewport.\n   * `auto` automatically matches the value of `rotationAlignment`.\n   * @default \"auto\"\n   */\n  pitchAlignment?: Alignment;\n  /** The rotation angle of the marker in degrees, relative to its `rotationAlignment` setting. A positive value will rotate the marker clockwise.\n   * @default 0\n   */\n  rotation?: number;\n  /** `map` aligns the `Marker`'s rotation relative to the map, maintaining a bearing as the map rotates.\n   * `viewport` aligns the `Marker`'s rotation relative to the viewport, agnostic to map rotations.\n   * `auto` is equivalent to `viewport`.\n   * @default \"auto\"\n   */\n  rotationAlignment?: Alignment;\n  /** The scale to use for the default marker if options.element is not provided.\n   * The default scale (1) corresponds to a height of `41px` and a width of `27px`.\n   * @default 1\n   */\n  scale?: number;\n  /** A Popup instance that is bound to the marker */\n  popup?: MapboxPopup;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n  onClick?: (e: MapboxEvent<MouseEvent>) => void;\n  onDragStart?: (e: MarkerDragEvent) => void;\n  onDrag?: (e: MarkerDragEvent) => void;\n  onDragEnd?: (e: MarkerDragEvent) => void;\n  children?: React.ReactNode;\n};\n\nconst defaultProps: Partial<MarkerProps> = {\n  draggable: false,\n  popup: null,\n  rotation: 0,\n  rotationAlignment: 'auto',\n  pitchAlignment: 'auto'\n};\n\n/* eslint-disable complexity,max-statements */\nfunction Marker(props: MarkerProps) {\n  const {map, mapLib} = useContext(MapContext);\n  const thisRef = useRef({props});\n  thisRef.current.props = props;\n\n  const marker: MapboxMarker = useMemo(() => {\n    let hasChildren = false;\n    React.Children.forEach(props.children, el => {\n      if (el) {\n        hasChildren = true;\n      }\n    });\n    const options = {\n      ...props,\n      element: hasChildren ? document.createElement('div') : null\n    };\n\n    const mk = new mapLib.Marker(options).setLngLat([props.longitude, props.latitude]);\n\n    mk.getElement().addEventListener('click', (e: MouseEvent) => {\n      thisRef.current.props.onClick?.({\n        type: 'click',\n        target: mk,\n        originalEvent: e\n      });\n    });\n\n    mk.on('dragstart', e => {\n      const evt = e as MarkerDragEvent;\n      evt.lngLat = marker.getLngLat();\n      thisRef.current.props.onDragStart?.(evt);\n    });\n    mk.on('drag', e => {\n      const evt = e as MarkerDragEvent;\n      evt.lngLat = marker.getLngLat();\n      thisRef.current.props.onDrag?.(evt);\n    });\n    mk.on('dragend', e => {\n      const evt = e as MarkerDragEvent;\n      evt.lngLat = marker.getLngLat();\n      thisRef.current.props.onDragEnd?.(evt);\n    });\n\n    return mk;\n  }, []);\n\n  useEffect(() => {\n    marker.addTo(map.getMap());\n\n    return () => {\n      marker.remove();\n    };\n  }, []);\n\n  useEffect(() => {\n    applyReactStyle(marker.getElement(), props.style);\n  }, [props.style]);\n\n  if (marker.getLngLat().lng !== props.longitude || marker.getLngLat().lat !== props.latitude) {\n    marker.setLngLat([props.longitude, props.latitude]);\n  }\n  if (props.offset && !arePointsEqual(marker.getOffset(), props.offset)) {\n    marker.setOffset(props.offset);\n  }\n  if (marker.isDraggable() !== props.draggable) {\n    marker.setDraggable(props.draggable);\n  }\n  if (marker.getRotation() !== props.rotation) {\n    marker.setRotation(props.rotation);\n  }\n  if (marker.getRotationAlignment() !== props.rotationAlignment) {\n    marker.setRotationAlignment(props.rotationAlignment);\n  }\n  if (marker.getPitchAlignment() !== props.pitchAlignment) {\n    marker.setPitchAlignment(props.pitchAlignment);\n  }\n  if (marker.getPopup() !== props.popup) {\n    marker.setPopup(props.popup);\n  }\n\n  return createPortal(props.children, marker.getElement());\n}\n\nMarker.defaultProps = defaultProps;\n\n// @ts-ignore\nexport default React.memo(Marker);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}