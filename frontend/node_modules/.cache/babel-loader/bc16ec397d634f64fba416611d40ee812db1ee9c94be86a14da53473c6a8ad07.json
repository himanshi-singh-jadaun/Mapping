{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HIMANSHI/Desktop/Mapping/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HIMANSHI/Desktop/Mapping/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HIMANSHI/Desktop/Mapping/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef}from\"react\";import axios from'axios';import{MdRoom,MdCancel}from\"react-icons/md\";import{TiTick}from\"react-icons/ti\";import{ImCross}from\"react-icons/im\";import\"./register.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(_ref){var setShowRegister=_ref.setShowRegister;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),success=_useState2[0],setSuccess=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),failure=_useState4[0],setFailure=_useState4[1];var nameRef=useRef();var emailRef=useRef();var passwordRef=useRef();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var newUser;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();newUser={username:nameRef.current.value,email:emailRef.current.value,password:passwordRef.current.value};_context.prev=2;_context.next=5;return axios.post(\"/users/register\",newUser);case 5:// if any failure has occured before success \n// then to remove that failure\nsetFailure(false);setSuccess(true);_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.log(_context.t0);setSuccess(false);setFailure(true);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"registerContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(MdRoom,{style:{fontSize:\"18px\",color:\"slateblue\"}}),\"TravelGuide\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"username\",ref:nameRef}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",ref:emailRef}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",ref:passwordRef}),/*#__PURE__*/_jsx(\"button\",{className:\"registerBtn\",children:\"Register\"}),success&&/*#__PURE__*/_jsxs(\"span\",{className:\"success\",children:[\"Successfull ! You can login now\",/*#__PURE__*/_jsx(TiTick,{style:{fontSize:\"15px\",margin:\"4px\"}})]}),failure&&/*#__PURE__*/_jsxs(\"span\",{className:\"failure\",children:[\"Something went wrong ! Try again\",/*#__PURE__*/_jsx(ImCross,{style:{fontSize:\"7px\",margin:\"5px\"}})]})]}),/*#__PURE__*/_jsx(MdCancel,{className:\"registerCancel\",onClick:function onClick(){return setShowRegister(false);}})]});}","map":{"version":3,"names":["useState","useRef","axios","MdRoom","MdCancel","TiTick","ImCross","jsx","_jsx","jsxs","_jsxs","Register","_ref","setShowRegister","_useState","_useState2","_slicedToArray","success","setSuccess","_useState3","_useState4","failure","setFailure","nameRef","emailRef","passwordRef","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","newUser","wrap","_callee$","_context","prev","next","preventDefault","username","current","value","email","password","post","t0","console","log","stop","_x","apply","arguments","className","children","style","fontSize","color","onSubmit","type","placeholder","ref","margin","onClick"],"sources":["C:/Users/HIMANSHI/Desktop/Mapping/frontend/src/components/Register.jsx"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport axios from 'axios';\r\nimport { MdRoom , MdCancel } from \"react-icons/md\";\r\nimport { TiTick } from \"react-icons/ti\";\r\nimport { ImCross } from \"react-icons/im\";\r\nimport \"./register.css\";\r\n\r\n\r\n\r\nexport default function Register({setShowRegister}) {\r\n    const [success, setSuccess] = useState(false);\r\n    const [failure, setFailure] = useState(false);\r\n    const nameRef = useRef();\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const newUser = {\r\n            username: nameRef.current.value,\r\n            email:emailRef.current.value,\r\n            password:passwordRef.current.value,\r\n        };\r\n\r\n        try {\r\n            await axios.post(\"/users/register\",newUser);\r\n            // if any failure has occured before success \r\n            // then to remove that failure\r\n            setFailure(false);\r\n            setSuccess(true);\r\n        }catch(err) {\r\n            console.log(err);\r\n            setSuccess(false);\r\n            setFailure(true);\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"registerContainer\">\r\n            <div className=\"logo\">\r\n                <MdRoom style={{ fontSize: \"18px\", color: \"slateblue\" }} />\r\n                TravelGuide\r\n            </div>\r\n            <form onSubmit = {handleSubmit}>\r\n                {/* whenever those values are changed ref will change  */}\r\n                <input type=\"text\" placeholder=\"username\" ref={nameRef}/>\r\n                <input type=\"email\" placeholder=\"email\" ref={emailRef}/>\r\n                <input type=\"password\" placeholder=\"password\" ref={passwordRef}/>\r\n                <button className=\"registerBtn\">Register</button>\r\n                {success &&\r\n                    <span className=\"success\">Successfull ! You can login now\r\n                        <TiTick style={{\r\n                            fontSize: \"15px\",\r\n                            margin: \"4px\"\r\n                        }}\r\n                        />\r\n                        \r\n                    </span>\r\n                }\r\n                {failure &&\r\n                    <span className=\"failure\">Something went wrong ! Try again\r\n                        <ImCross style={{\r\n                            fontSize: \"7px\",\r\n                            margin: \"5px\",\r\n\r\n                        }}\r\n                        />\r\n                    </span>\r\n                }\r\n            </form>\r\n            <MdCancel \r\n            className=\"registerCancel\" \r\n            onClick={()=>setShowRegister(false)}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}